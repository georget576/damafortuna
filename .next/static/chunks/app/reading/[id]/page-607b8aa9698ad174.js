(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[373],{376:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(5155),s=r(2115),o=r(1976),n=r(7168),l=r(9052);function i(e){let{readingId:t,isFavorite:r,size:i="md",onToggle:c}=e,[d,h]=(0,s.useState)(r),[m,p]=(0,s.useState)(!1),u=async e=>{e.preventDefault(),e.stopPropagation(),p(!0);try{let e=await fetch("/api/favorites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({readingId:t})});if(!e.ok)throw Error("Failed to toggle favorite");let r=(await e.json()).isFavorite;h(r),null==c||c(r),l.oR.success(r?"Added to favorites!":"Removed from favorites")}catch(e){console.error("Error toggling favorite:",e),l.oR.error("Failed to update favorite status")}finally{p(!1)}},x={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"};return(0,a.jsxs)(n.$,{variant:"ghost",size:"sm",onClick:u,disabled:m,className:"p-1 hover:bg-transparent ".concat(d?"text-red-500 hover:text-red-600 font-caveat-brush":"text-gray-400 hover:text-red-500 font-caveat-brush"),"aria-label":d?"Remove from favorites":"Add to favorites",children:[d?(0,a.jsx)(o.A,{className:x[i],fill:"currentColor"}):(0,a.jsx)(o.A,{className:x[i]}),(0,a.jsx)("span",{className:"sr-only",children:d?"Remove from favorites":"Add to favorites"})]})}},1976:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},7534:(e,t,r)=>{Promise.resolve().then(r.bind(r,8146)),Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.t.bind(r,3063,23))},8146:(e,t,r)=>{"use strict";r.d(t,{default:()=>x});var a=r(5155),s=r(2115),o=r(6874),n=r.n(o),l=r(7168),i=r(8482),c=r(8935),d=r(8959),h=r(5631),m=r(376),p=r(9052);function u(e){let{readingId:t,readingTitle:r,isOpen:o=!1,onClose:n}=e,[c,d]=(0,s.useState)(!1),h=async e=>{if(t){d(!0);try{let a="".concat(window.location.origin,"/dashboard/readings/").concat(t),s="Check out this tarot reading: ".concat(r||"Untitled Reading");switch(e){case"copy":await navigator.clipboard.writeText(a),p.oR.success("Link copied to clipboard!");break;case"twitter":window.open("https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(s),"&url=").concat(encodeURIComponent(a)),"_blank","width=600,height=400");break;case"facebook":window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(a)),"_blank","width=600,height=400");break;case"whatsapp":window.open("https://wa.me/?text=".concat(encodeURIComponent(s+" "+a)),"_blank");break;case"email":window.open("mailto:?subject=".concat(encodeURIComponent("Check out this tarot reading"),"&body=").concat(encodeURIComponent(s+"\n\n"+a)),"_blank")}}catch(e){console.error("Error sharing:",e),p.oR.error("Failed to share reading")}finally{d(!1)}}},m=[{name:"Copy Link",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),platform:"copy",color:"hover:bg-purple-100 hover:text-purple-700"},{name:"Twitter",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),platform:"twitter",color:"hover:bg-blue-100 hover:text-blue-600"},{name:"Facebook",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),platform:"facebook",color:"hover:bg-blue-100 hover:text-blue-700"},{name:"WhatsApp",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.514 3.488"})}),platform:"whatsapp",color:"hover:bg-green-100 hover:text-green-700"},{name:"Email",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),platform:"email",color:"hover:bg-gray-100 hover:text-gray-700"}];return o?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,a.jsxs)(i.Zp,{className:"w-full max-w-md mx-4 border-2 border-tarot-purple bg-gradient-to-br from-purple-50 to-pink-50",children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between pb-4 border-b border-tarot-purple/20",children:[(0,a.jsx)(i.ZB,{className:"tarot-gold font-caveat-brush text-xl",children:"Share Reading"}),(0,a.jsxs)(l.$,{variant:"ghost",size:"sm",onClick:n,className:"h-8 w-8 p-0 hover:bg-tarot-purple/10",children:[(0,a.jsx)("svg",{className:"h-4 w-4 text-tarot-purple",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsx)(i.BT,{className:"mb-4 text-purple-700 font-just-another-hand text-xl",children:"Share this tarot reading with friends and family"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:m.map(e=>(0,a.jsxs)(l.$,{variant:"outline",className:"flex items-center justify-start gap-3 text-purple-900 h-12 border-tarot-purple/30 hover:bg-tarot-purple hover:text-white hover:border-tarot-purple transition-all duration-200 ".concat(e.color),onClick:()=>h(e.platform),disabled:c,children:[e.icon,(0,a.jsx)("span",{className:"font-medium font-caveat-brush",children:e.name})]},e.platform))})]})]})}):null}function x(e){var t;let{reading:r,error:o,id:p}=e,[x,f]=(0,s.useState)(!1),v=e=>({id:e.id,name:e.name,image:e.image||"",description:e.description,upright:!e.isReversed,position:e.position,isReversed:e.isReversed,interpretation:e.interpretation});return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-caveat-brush font-bold mb-2 tarot-gold",children:"Your Reading"}),(0,a.jsx)("p",{className:"tarot-purple font-just-another-hand text-lg",children:"Insight and guidance from the cards"})]}),o&&(0,a.jsx)(i.Zp,{className:"mb-6 border-red-200 bg-red-50",children:(0,a.jsx)(i.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-just-another-hand font-medium text-red-800",children:o}),(0,a.jsx)("div",{className:"mt-2 text-sm text-red-700 font-shadows-into-light",children:(0,a.jsx)("p",{children:"Please try refreshing the page or contact support if the problem persists."})})]})]})})}),r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Zp,{className:"mb-6",children:(0,a.jsxs)(i.aR,{children:[(0,a.jsxs)(i.ZB,{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-caveat-brush font-semibold text-lg tarot-purple",children:"Reading Details"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.$,{variant:"outline",asChild:!0,children:(0,a.jsx)(n(),{href:"/dashboard/readings",className:"font-caveat-brush font-semibold text-lg",children:"Back to History"})}),(0,a.jsxs)(l.$,{variant:"outline",onClick:()=>f(!0),className:"font-caveat-brush font-semibold text-lg",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),"Share"]}),(0,a.jsx)(m.Z,{readingId:p,isFavorite:!1})]})]}),(0,a.jsxs)(i.BT,{children:[r.question&&(0,a.jsxs)("span",{className:"italic font-shadows-into-light",children:["“",r.question,"”"]}),(0,a.jsxs)("div",{className:"mt-2 text-lg font-just-another-hand text-muted-foreground",children:[(0,a.jsx)("span",{className:"font-caveat-brush font-semibold text-lg",children:"Type:"})," ",r.type.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase()),(0,a.jsx)("span",{className:"mx-2",children:"•"}),(0,a.jsx)("span",{className:"font-caveat-brush font-semibold text-lg",children:"Date:"})," ",(t=r.createdAt)?new Date(t).toLocaleDateString():"Unknown date"]})]})]})}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{className:"font-caveat-brush tarot-gold",children:"Your Reading"}),(0,a.jsx)(i.BT,{className:"font-shadows-into-light text-lg tarot-purple",children:"The cards have spoken. Here's what they reveal for you."})]}),(0,a.jsxs)(i.Wu,{className:"font-shadows-into-light text-lg",children:[(()=>{if(!r)return null;let e=r.cards.map(v);switch(r.type){case"one-card":return(0,a.jsx)(d.r,{card:e[0]});case"celtic-cross":return(0,a.jsx)(h.l,{cards:e});default:return(0,a.jsx)(c.H,{cards:e})}})(),r.interpretation&&(0,a.jsxs)("div",{className:"mt-8 p-4 bg-purple-50/30 rounded-lg border border-purple-200",children:[(0,a.jsx)("h3",{className:"font-just-another-hand font-semibold text-lg mb-2 tarot-purple",children:"Interpretation"}),(0,a.jsx)("p",{className:"text-sm leading-relaxed",children:r.interpretation})]})]})]})]}),(0,a.jsx)(u,{readingId:p,readingTitle:(null==r?void 0:r.question)||"Untitled Reading",isOpen:x,onClose:()=>f(!1)})]})}},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(2115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:h,...m}=e;return(0,a.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:r,strokeWidth:i?24*Number(l)/Number(s):l,className:o("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:i,...c}=r;return(0,a.createElement)(l,{ref:n,iconNode:t,className:o("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...c})});return r.displayName=s(e),r}}},e=>{e.O(0,[460,874,63,168,671,396,312,219,441,964,358],()=>e(e.s=7534)),_N_E=e.O()}]);