"use strict";exports.id=320,exports.ids=[320],exports.modules={21283:(a,b,c)=>{c.d(b,{b$:()=>e,uh:()=>f});var d=c(79464);async function e(){try{let a=await d.z.tarotCard.findMany();return console.log("TarotCard images (getAllTarotCards):",a.map(a=>a.image)),console.log("TarotCard count (getAllTarotCards):",a.length),0===a.length&&console.warn("Warning: No tarot cards found in database"),a}catch(a){throw console.error("Error fetching tarot cards:",a),Error("Failed to fetch tarot cards")}}async function f(){try{let a=await d.z.tarotCard.count();if(console.log("TarotCard count (getRandomTarotCard):",a),0===a)throw console.warn("Warning: No tarot cards available in database"),Error("No tarot cards found in database");let b=Math.floor(Math.random()*a);console.log("TarotCard random index (getRandomTarotCard):",b);let c=await d.z.tarotCard.findMany({skip:b,take:1});if(0===c.length)throw Error("No tarot cards found");return console.log("TarotCard image (getRandomTarotCard):",c[0].image),c[0]}catch(a){throw console.error("Error fetching random tarot card:",a),Error("Failed to fetch random tarot card")}}},37159:(a,b,c)=>{c.d(b,{VI:()=>j,aK:()=>e,fC:()=>h,hl:()=>i});var d=c(21283);let e={THREE_CARD:"three-card",CELTIC_CROSS:"celtic-cross",ONE_CARD:"one-card"},f={THREE_CARD:[{id:"past",name:"Past",description:"What led you to this moment"},{id:"present",name:"Present",description:"What is happening now"},{id:"future",name:"Future",description:"What is coming"}],CELTIC_CROSS:[{id:"present",name:"Present Situation",description:"The current situation"},{id:"challenge",name:"Immediate Challenge",description:"What challenges you face"},{id:"distant_past",name:"Distant Past",description:"What brought you here"},{id:"recent_past",name:"Recent Past",description:"Recent influences"},{id:"above",name:"Above",description:"Your conscious goals"},{id:"below",name:"Below",description:"Your subconscious goals"},{id:"advice",name:"Advice",description:"What you should do"},{id:"external",name:"External Influences",description:"What others think"},{id:"hopes_fears",name:"Hopes and Fears",description:"Your emotions"},{id:"outcome",name:"Outcome",description:"The likely outcome"}]};async function g(a){try{let b=await (0,d.b$)();return(function(a){let b=[...a];for(let a=b.length-1;a>0;a--){let c=Math.floor(Math.random()*(a+1));[b[a],b[c]]=[b[c],b[a]]}return b})(b).slice(0,a).map(a=>({...a,isReversed:.3>Math.random()}))}catch(a){throw console.error("Error drawing cards:",a),Error("Failed to draw cards")}}async function h(a){try{let b=await (0,d.uh)(),c=.3>Math.random();return{type:e.ONE_CARD,question:a,cards:[{...b,isReversed:c,interpretation:k(b,c,"general")}],interpretation:l([{...b,isReversed:c}],a)}}catch(a){throw console.error("Error creating one card reading:",a),Error("Failed to create one card reading")}}async function i(a){try{let b=await g(3),c=f.THREE_CARD,d=b.map((a,b)=>({...a,position:c[b].name,interpretation:k(a,a.isReversed||!1,c[b].name)}));return{type:e.THREE_CARD,question:a,cards:d,interpretation:l(d,a)}}catch(a){throw console.error("Error creating three card reading:",a),Error("Failed to create three card reading")}}async function j(a){try{let b=await g(10),c=f.CELTIC_CROSS,d=b.map((a,b)=>({...a,position:c[b].name,interpretation:k(a,a.isReversed||!1,c[b].name)}));return{type:e.CELTIC_CROSS,question:a,cards:d,interpretation:l(d,a)}}catch(a){throw console.error("Error creating Celtic Cross reading:",a),Error("Failed to create Celtic Cross reading")}}function k(a,b,c){let d="";switch(c.toLowerCase()){case"past":d=b?`The influence of ${a.name} in the past suggests there may have been obstacles or delays that were not fully addressed. ${a.reversed}`:`The influence of ${a.name} in the past has shaped your current situation positively. ${a.message}`;break;case"present":d=b?`Currently, ${a.name} suggests challenges or blockages in your present situation. ${a.reversed}`:`Currently, ${a.name} brings positive energy to your present situation. ${a.message}`;break;case"future":d=b?`In the future, ${a.name} may indicate potential obstacles or delays. ${a.reversed}`:`In the future, ${a.name} suggests positive developments and opportunities. ${a.message}`;break;default:d=b?`${a.name} in the ${c} position suggests challenges or the need to look deeper. ${a.reversed}`:`${a.name} in the ${c} position brings positive influence. ${a.message}`}d+=`

Card Significance: ${a.significance}`,a.keywords&&a.keywords.length>0&&(d+=`
Keywords: ${a.keywords.join(", ")}`);let e=function(a,b,c){let d=!a.name.includes("of"),e=b.toLowerCase(),f="";switch(f=d?c?"This reversed Major Arcana card indicates that lessons from this archetype need to be revisited or approached from a different perspective.":"This Major Arcana card represents significant life lessons and archetypal energies that are currently influencing your situation.":c?"This reversed Minor Arcana card suggests everyday matters may be blocked or require attention to detail.":"This Minor Arcana card indicates practical everyday influences and matters that need attention.",e){case"past":f+=" Reflect on how this energy has shaped your current path.";break;case"present":f+=" Focus on how this energy is manifesting in your current circumstances.";break;case"future":f+=" Prepare for how this energy may unfold in the coming days.";break;case"challenge":f+=" This card highlights the specific challenge you need to address.";break;case"advice":f+=" This card offers guidance on how to navigate your situation.";break;case"outcome":f+=" This card suggests the likely result based on current energies.";break;default:f+=` Consider how this energy relates to the ${b} aspect of your question.`}return f}(a,c,b);return d+`

${e}`}function l(a,b){if(!a||0===a.length)return"The cards are silent today. Please try again.";let c=a.filter(a=>a.isReversed).length,d="";if(b&&(d+=`Regarding your question "${b}": `),c===a.length?d+="The cards suggest significant challenges ahead. ":c>a.length/2?d+="There are several challenges to overcome, but opportunities exist. ":0===c?d+="The cards show a clear and positive path forward. ":d+="The reading shows a mix of challenges and opportunities. ",a.length>0){let b=a[0];d+=`Focus on the energy of ${b.name} to guide you. `,b.isReversed?d+=b.reversed+" ":d+=b.message+" "}return d+"Trust your intuition as you navigate this situation."}},41098:(a,b,c)=>{c.d(b,{N:()=>i});var d=c(13581),e=c(36344),f=c(16467),g=c(85663),h=c(79464);let i={adapter:(0,f.y)(h.z),providers:[(0,d.A)({name:"Credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(a){if(!a?.email||!a?.password)return null;let b=await h.z.user.findUnique({where:{email:a.email}});return b&&b.password&&await g.Ay.compare(a.password,b.password)?{id:b.id,email:b.email,name:b.name}:null}}),(0,e.A)({clientId:"692534496443-n3pvfdkq6jdr89mv2rrvi2320em2i1ms.apps.googleusercontent.com",clientSecret:process.env.GOOGLE_CLIENT_SECRET,authorization:{params:{prompt:"consent",access_type:"offline",response_type:"code"}}})],session:{strategy:"jwt"},secret:process.env.NEXTAUTH_SECRET,callbacks:{jwt:async({token:a,user:b})=>(b&&(a.sub=b.id,a.email=b.email,a.name=b.name),a),session:async({session:a,token:b})=>(b.sub&&a.user&&(a.user.id=b.sub,b.email&&(a.user.email=b.email),b.name&&(a.user.name=b.name)),a)},pages:{signIn:"/login"}}},79464:(a,b,c)=>{c.d(b,{e:()=>f,z:()=>e});var d=c(96330);let e=globalThis.prisma||new d.PrismaClient;async function f(a,b=3,c=1e3){let d=null;for(let e=1;e<=b;e++)try{return await a()}catch(a){if(d=a,a instanceof Error&&(a.message.includes("connection")||a.message.includes("timeout")||a.message.includes("too many connections")||a.message.includes("network"))&&e<b){console.warn(`Database query failed (attempt ${e}/${b}), retrying in ${c}ms...`),await new Promise(a=>setTimeout(a,c));continue}break}throw console.error(`Database query failed after ${b} attempts:`,d),d||Error("Unknown database error")}}};