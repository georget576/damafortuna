exports.id=423,exports.ids=[423],exports.modules={12274:(a,b,c)=>{"use strict";c.d(b,{DashboardLayout:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call DashboardLayout() from the server but DashboardLayout is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\George\\OneDrive\\Documents\\DamaFortuna Revamped\\dama-fortuna\\components\\dashboard-layout.tsx","DashboardLayout")},24184:(a,b,c)=>{"use strict";c.r(b),c.d(b,{"00e9443e70a6bd0f69b974a3d9fe1595e2c5eb2f1e":()=>f});var d=c(91199);c(42087);var e=c(90141);async function f(){(0,e.redirect)("/api/auth/signout")}(0,c(33331).D)([f]),(0,d.A)(f,"00e9443e70a6bd0f69b974a3d9fe1595e2c5eb2f1e",null)},40218:(a,b,c)=>{"use strict";function d(a){return("string"==typeof a?new Date(a):a).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})}function e(a){return("string"==typeof a?new Date(a):a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}c.d(b,{Yq:()=>d,r6:()=>e})},48825:(a,b,c)=>{"use strict";c.d(b,{A:()=>h});var d=c(60687),e=c(43210),f=c(82136),g=c(16189);function h({children:a,required:b=!0}){let{data:c,status:h}=(0,f.useSession)();(0,g.useRouter)();let[i,j]=(0,e.useState)(!1);return"loading"!==h&&i?b&&!c?null:(0,d.jsx)(d.Fragment,{children:a}):(0,d.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-900 via-indigo-900 to-purple-800",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-t-2 border-tarot-gold"})})}},53434:(a,b,c)=>{"use strict";c.d(b,{Z:()=>i});var d=c(60687),e=c(43210),f=c(67760),g=c(24934),h=c(52581);function i({readingId:a,isFavorite:b,size:c="md",onToggle:i}){let[j,k]=(0,e.useState)(b),[l,m]=(0,e.useState)(!1),n=async b=>{b.preventDefault(),b.stopPropagation(),m(!0);try{let b=await fetch("/api/favorites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({readingId:a})});if(!b.ok)throw Error("Failed to toggle favorite");let c=(await b.json()).isFavorite;k(c),i?.(c),h.oR.success(c?"Added to favorites!":"Removed from favorites")}catch(a){console.error("Error toggling favorite:",a),h.oR.error("Failed to update favorite status")}finally{m(!1)}},o={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"};return(0,d.jsxs)(g.$,{variant:"ghost",size:"sm",onClick:n,disabled:l,className:`p-1 hover:bg-transparent ${j?"text-red-500 hover:text-red-600 font-caveat-brush":"text-gray-400 hover:text-red-500 font-caveat-brush"}`,"aria-label":j?"Remove from favorites":"Add to favorites",children:[j?(0,d.jsx)(f.A,{className:o[c],fill:"currentColor"}):(0,d.jsx)(f.A,{className:o[c]}),(0,d.jsx)("span",{className:"sr-only",children:j?"Remove from favorites":"Add to favorites"})]})}},55800:(a,b,c)=>{"use strict";c.d(b,{DashboardLayout:()=>f});var d=c(60687),e=c(48825);function f({children:a}){return(0,d.jsx)(e.A,{required:!0,children:a})}},59734:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>s});var d=c(60687),e=c(43210),f=c(85814),g=c.n(f),h=c(16189),i=c(24934),j=c(49625),k=c(82080),l=c(67760),m=c(58869),n=c(84027),o=c(40083),p=c(6475);let q=(0,p.createServerReference)("00e9443e70a6bd0f69b974a3d9fe1595e2c5eb2f1e",p.callServer,void 0,p.findSourceMapURL,"handleSignOut");var r=c(48825);function s({children:a}){let b=(0,h.usePathname)(),[c,f]=(0,e.useState)(!0),p=[{name:"Dashboard",href:"/dashboard",icon:j.A},{name:"Readings",href:"/dashboard/readings",icon:k.A},{name:"Favorites",href:"/dashboard/favorites",icon:l.A},{name:"Profile",href:"/dashboard/profile",icon:m.A},{name:"Settings",href:"/dashboard/settings",icon:n.A}];return(0,d.jsx)(r.A,{required:!0,children:(0,d.jsxs)("div",{className:"flex min-h-screen bg-gradient-to-br from-purple-900 via-indigo-900 to-purple-800",children:[(0,d.jsxs)("aside",{className:`${c?"w-64":"w-20"} bg-purple-900/80 backdrop-blur-sm border-r border-purple-700 transition-all duration-300 flex flex-col`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-purple-700",children:[c?(0,d.jsx)("h1",{className:"text-3xl font-caveat-brush font-bold tarot-gold",children:"DamaFortuna"}):(0,d.jsx)("div",{className:"w-10 h-10 tarot-gold",children:"DF"}),(0,d.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>f(!c),className:"text-purple-200 hover:text-white",children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:c?"M15 19l-7-7 7-7":"M9 5l7 7-7 7"})})})]}),(0,d.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:p.map(a=>{let e=a.icon,f=b===a.href;return(0,d.jsxs)(g(),{href:a.href,className:`flex items-center p-4 rounded-lg transition-colors ${f?"bg-purple-700 text-white":"text-purple-200 hover:bg-purple-800/50"}`,children:[(0,d.jsx)(e,{className:"h-6 w-6"}),c&&(0,d.jsx)("span",{className:"ml-4 font-caveat-brush font-medium text-lg",children:a.name})]},a.name)})}),(0,d.jsx)("div",{className:"p-6 border-t border-purple-700",children:(0,d.jsx)("form",{action:q,children:(0,d.jsxs)(i.$,{variant:"ghost",className:"w-full justify-start text-purple-200 hover:text-white hover:bg-purple-800/50",children:[(0,d.jsx)(o.A,{className:"h-6 w-6"}),c&&(0,d.jsx)("span",{className:"ml-4 text-lg",children:"Sign out"})]})})})]}),(0,d.jsx)("main",{className:"flex-1 overflow-auto",children:a})]})})}},79916:(a,b,c)=>{"use strict";c.d(b,{ReadingHistory:()=>o});var d=c(60687),e=c(43210),f=c(31252),g=c(85814),h=c.n(g),i=c(55192),j=c(24934),k=c(10444),l=c(5939),m=c(40218),n=c(53434);function o({readings:a}){let[b,c]=(0,e.useState)(1),[g,o]=(0,e.useState)("all"),[p,q]=(0,e.useState)(""),[r,s]=(0,e.useState)(!1),[t,u]=(0,e.useState)(a),v=t.filter(a=>("all"===g||a.type===g)&&(!p||!a.createdAt||new Date(a.createdAt).toISOString().split("T")[0]===p)&&!0),w=Math.ceil(v.length/5),x=(b-1)*5,y=v.slice(x,x+5),z=()=>{c(1)};return r?(0,d.jsx)("div",{className:"w-full",children:(0,d.jsxs)(i.Zp,{className:"tarot-texture",children:[(0,d.jsx)(i.aR,{children:(0,d.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,d.jsx)(i.ZB,{className:"text-2xl font-caveat-brush font-bold tarot-gold",children:"History"}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2 font-caveat-brush tarot-gold",children:[(0,d.jsxs)("select",{value:g,onChange:a=>{o(a.target.value),z()},className:"p-2 border rounded-md bg-background",children:[(0,d.jsx)("option",{value:"all",children:"All Spreads"}),(0,d.jsx)("option",{value:l.aK.ONE_CARD,children:"One Card"}),(0,d.jsx)("option",{value:l.aK.THREE_CARD,children:"Three Card"}),(0,d.jsx)("option",{value:l.aK.CELTIC_CROSS,children:"Celtic Cross"})]}),(0,d.jsx)("input",{type:"date",value:p,onChange:a=>{q(a.target.value),z()},className:"p-2 border rounded-md bg-background [color-scheme:light] [&::-webkit-calendar-picker-indicator]:text-tarot-gold [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-calendar-picker-indicator]:hover:text-opacity-80",style:{color:"oklch(75% 0.15 80)"}}),("all"!==g||p)&&(0,d.jsx)(j.$,{variant:"outline",onClick:()=>{o("all"),q(""),z()},children:"Clear Filters"})]})]})}),(0,d.jsx)(i.Wu,{className:"space-y-6",children:0===y.length?(0,d.jsx)("div",{className:"text-center py-8",children:(0,d.jsx)("p",{className:"font-shadows-into-light text-muted-foreground",children:0===a.length?"You haven't created any readings yet.":"No readings match your filters."})}):(0,d.jsxs)("div",{className:"space-y-6",children:[y.map((a,b)=>(0,d.jsx)(f.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*b},className:"p-4 bg-white/10 rounded-lg border border-purple-200 hover:bg-white/20 transition-colors",children:(0,d.jsx)(h(),{href:`/reading/${a.id}`,className:"block",children:(0,d.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsxs)("div",{className:"flex gap-2 overflow-x-auto",children:[a.cards.slice(0,3).map(a=>(0,d.jsx)("div",{className:"w-16 h-28 flex-shrink-0",children:(0,d.jsx)(k.r,{name:a.name,image:a.image||"",upright:!a.isReversed,className:"w-full h-full"})},a.id)),a.cards.length>3&&(0,d.jsx)("div",{className:"w-16 h-28 flex-shrink-0 flex items-center justify-center bg-black/20 rounded",children:(0,d.jsxs)("span",{className:"text-xs text-center",children:["+",a.cards.length-3," more"]})})]})}),(0,d.jsxs)("div",{className:"flex-grow",children:[(0,d.jsxs)("div",{className:"flex flex-wrap justify-between items-start gap-2",children:[(0,d.jsxs)("div",{className:"flex-grow",children:[(0,d.jsxs)("h3",{className:"font-caveat-brush font-bold text-lg tarot-gold hover:text-purple-200 transition-colors",children:[(a=>{switch(a){case l.aK.ONE_CARD:return"One Card";case l.aK.THREE_CARD:return"Three Card";case l.aK.CELTIC_CROSS:return"Celtic Cross";default:return a}})(a.type)," Reading"]}),(0,d.jsx)("p",{className:"text-sm font-just-another-hand text-white",children:a.createdAt?(0,m.r6)(a.createdAt):"Unknown date"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,d.jsx)(n.Z,{readingId:a.id||"",isFavorite:a.isFavorite||!1,onToggle:b=>{var c;c=a.id,c&&u(a=>a.map(a=>a.id===c?{...a,isFavorite:b}:a))}}),(0,d.jsx)("span",{className:"text-xs text-white font-caveat-brush",children:a.isFavorite?"Favorited":"Not favorited"})]})]}),a.question&&(0,d.jsxs)("p",{className:"font-just-another-hand italic max-w-md line-clamp-2 tarot-gold",children:["“",a.question,"”"]}),a.interpretation&&(0,d.jsx)("p",{className:"mt-2 text-sm font-shadows-into-light line-clamp-2 text-white",children:a.interpretation})]})]})})},a.id||b)),w>1&&(0,d.jsxs)("div",{className:"flex justify-center items-center gap-2 mt-6",children:[(0,d.jsx)(j.$,{variant:"outline",onClick:()=>c(a=>Math.max(a-1,1)),disabled:1===b,className:"font-caveat-brush tarot-gold",children:"Previous"}),(0,d.jsxs)("span",{className:"px-4 py-2 font-just-another-hand text-lg text-white",children:["Page ",(0,d.jsx)("span",{className:"font-just-another-hand",children:b})," of ",(0,d.jsx)("span",{className:"font-just-another-hand",children:w})]}),(0,d.jsx)(j.$,{variant:"outline",onClick:()=>c(a=>Math.min(a+1,w)),disabled:b===w,className:"font-caveat-brush tarot-gold",children:"Next"})]})]})})]})}):(0,d.jsx)("div",{className:"w-full",children:(0,d.jsx)(i.Zp,{className:"tarot-texture",children:(0,d.jsx)(i.Wu,{className:"space-y-6",children:(0,d.jsx)("div",{className:"text-center py-8",children:(0,d.jsx)("p",{className:"font-just-another-hand text-muted-foreground",children:"Loading readings..."})})})})})}},80071:(a,b,c)=>{Promise.resolve().then(c.bind(c,59734))},83249:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\George\\\\OneDrive\\\\Documents\\\\DamaFortuna Revamped\\\\dama-fortuna\\\\app\\\\dashboard\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\George\\OneDrive\\Documents\\DamaFortuna Revamped\\dama-fortuna\\app\\dashboard\\layout.tsx","default")},96943:(a,b,c)=>{Promise.resolve().then(c.bind(c,83249))}};